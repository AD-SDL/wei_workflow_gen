name: PCR_Workflow
author: Intelligent Assistant
version: 0.1
modules:
  - name: Biometra
  - name: pf400
  - name: peeler
  - name: sealer
  - name: ot2_pcr_alpha
flowdef:
  - name: Initial_Process
    module: Biometra
    action: open_lid
    args:
      plate_type: 1
    checks: null
    comment: Open Biometra lid
  - name: Transfer_and_Mix
    module: pf400
    action: transfer
    args:
      source: Biometra.positions.default
      target: ot2_pcr_alpha.positions.deck1_cooler
      source_plate_rotation: wide
      target_plate_rotation: narrow
    checks: null
    comment: Move plate from Biometra to OT2 and mix
  - name: Seal_Plate
    module: sealer
    action: seal
    args:
      time: payload:seal.time
      temperature: 175
    checks: null
    comment: Seal the PCR plate
  - name: Move_to_Peeler
    module: pf400
    action: transfer
    args:
      source: ot2_pcr_alpha.positions.deck1_cooler
      target: peeler.positions.default
      source_plate_rotation: narrow
      target_plate_rotation: wide
    checks: null
    comment: Move plate to peeler for processing
  - name: Peel_Plate
    module: peeler
    action: peel
    args: null
    checks: null
    comment: Peel the plate
  - name: Move_Final_Location
    module: pf400
    action: transfer
    args:
      source: peeler.positions.default
      target: camera_module.positions.plate_station
      source_plate_rotation: wide
      target_plate_rotation: narrow
    checks: null
    comment: Move plate to final location for imaging
  - name: Take_Image
    module: camera_module
    action: take_picture
    args:
      file_name: final_image.jpg
    checks: null
    comment: Capture image of the plate